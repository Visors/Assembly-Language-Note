# 2.1 微机硬件：存储器

## 两种存储模式

### 平面存储模式

又称线性内存模型，在这种模式下，应用程序看到的内存是一个单独的连续地址（本书为32位地址）空间。CPU可以直接（且线性）寻址所有可利用的内存位置，无需诉诸任何内存分段或分页机制，平面存储器模式利用到了[虚拟内存](https://baike.baidu.com/item/虚拟内存/101812)技术。

## 分段存储模式

在该模式中，PC存储器被看做是段的集合，每个段64KB。其中：

$$64KB=64\times 1024Byte=2^{16}Byte$$

即每个段有可用$$2^{16}$$个可用空间，我们可以用4位十六进制数为之编号，称为**偏移量**。

那么32位空间可被分成的段数即为

$$2^{32}\div 2^{16}=2^{16}$$

同理我们也可以对段编号，对应4位十六进制编号，称为**段号**。

由此任意存储单元地址可被表示为

___段号:偏移量___

## 喜闻乐见吐槽环节

1. 平面存储模式的英文应为flat memory model，书中漏了model，分段存储模式也是。
2. $$16^8Byte=2^{32}Byte=4GB$$，这也是为什么32位系统最多只能装4G内存的原因。现实生活中随着各种应用、游戏占用内存提升，4G内存完全不能满足需求，所以它们逐渐抛弃32位软件的开发，只支持64位。前几年很多3A大作出来的时候，身边很多人都说自己电脑32位玩不了。~~快看看你Steam库存的游戏配置需求。~~不过现在64位电脑在新用户中基本上普及了。